<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
			 xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
			 x:Class="Prayerify.Pages.PrayersPage"
			 Title="Prayers">
	<ContentPage.ToolbarItems>
        <ToolbarItem Text="Add" Command="{Binding AddPrayerCommand}"/>
    </ContentPage.ToolbarItems>
	<CollectionView ItemsSource="{Binding Prayers}"
					EmptyView="No prayers yet. Tap Add to create one."
					Margin="16">
		<CollectionView.ItemTemplate>
			<DataTemplate>
				<SwipeView>
					<SwipeView.RightItems>
						<SwipeItems Mode="Reveal">
							<SwipeItem Text="Answered"
									  BackgroundColor="LightGreen"
									  Command="{Binding Source={RelativeSource AncestorType={x:Type ContentPage}}, Path=BindingContext.ToggleAnsweredCommand}"
									  CommandParameter="{Binding .}" />
							<SwipeItem Text="Delete"
									  BackgroundColor="#6D2E46"
									  Command="{Binding Source={RelativeSource AncestorType={x:Type ContentPage}}, Path=BindingContext.DeletePrayerCommand}"
									  CommandParameter="{Binding .}" />
						</SwipeItems>
					</SwipeView.RightItems>
					<Frame Padding="12" Margin="0,8" CornerRadius="12" HasShadow="False">
                        <Grid ColumnDefinitions="*" RowDefinitions="Auto,Auto,Auto">
                            <Label Text="{Binding Subject}" FontAttributes="Bold" FontSize="25"/>
							<Label Text="{Binding Body}" Grid.Row="1" Opacity="0.8" Margin="0,8,0,0" FontSize="20"/>
                            <Label Text="{Binding CreatedUtc}" Grid.Row="2" Opacity="0.8" Margin="0,8,0,0" TextColor="Grey" HorizontalTextAlignment="End"/>
                        </Grid>
					</Frame>
				</SwipeView>
			</DataTemplate>
		</CollectionView.ItemTemplate>
	</CollectionView>
</ContentPage>


